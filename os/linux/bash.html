
<!DOCTYPE HTML>
<html lang="zh" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Bash · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="btpka3@163.com">
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-vs.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="vim.html" />
    
    
    <link rel="prev" href="ubuntu.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../me/intro.html">
            
                <a href="../../me/intro.html">
            
                    
                    自我介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Markdown
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../md/md-intro.html">
            
                <a href="../../md/md-intro.html">
            
                    
                    Markdown 简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../md/md-demo.html">
            
                <a href="../../md/md-demo.html">
            
                    
                    Markdown 示例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../md/md-syntax-demo.html">
            
                <a href="../../md/md-syntax-demo.html">
            
                    
                    Markdown 语法示例
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Git
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../git/git.html">
            
                <a href="../../git/git.html">
            
                    
                    Git总结
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../git/git-branch.html">
            
                <a href="../../git/git-branch.html">
            
                    
                    版本号控制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../../git/git-wiki-sync.html">
            
                <a href="../../git/git-wiki-sync.html">
            
                    
                    Git wiki 同步
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../../git/gitlab.html">
            
                <a href="../../git/gitlab.html">
            
                    
                    gitlab
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../../git/gitbook.html">
            
                <a href="../../git/gitbook.html">
            
                    
                    gitbook
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../groovy/groovy.html">
            
                <a href="../../groovy/groovy.html">
            
                    
                    Groovy
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" >
            
                <span>
            
                    
                    Java
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1.1" data-path="../../java/java-jdk-install.html">
            
                <a href="../../java/java-jdk-install.html">
            
                    
                    JDK安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.2" data-path="../../java/java-tuning.html">
            
                <a href="../../java/java-tuning.html">
            
                    
                    Java调优总结
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.3" data-path="../../java/java-jsr.html">
            
                <a href="../../java/java-jsr.html">
            
                    
                    Java JSR 规范
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.4" data-path="../../java/java-tips.html">
            
                <a href="../../java/java-tips.html">
            
                    
                    Java tips
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.5" data-path="../../java/javaee.html">
            
                <a href="../../java/javaee.html">
            
                    
                    JavaEE
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2" >
            
                <span>
            
                    
                    Spring
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.1" data-path="../../spring/spring-framework.html">
            
                <a href="../../spring/spring-framework.html">
            
                    
                    Spring Framework
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.2" data-path="../../spring/spring-security.html">
            
                <a href="../../spring/spring-security.html">
            
                    
                    Spring Security
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.2.1" data-path="../../spring/spring-security-oauth2.html">
            
                <a href="../../spring/spring-security-oauth2.html">
            
                    
                    OAuth
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2.3" data-path="../../spring/spring-boot.html">
            
                <a href="../../spring/spring-boot.html">
            
                    
                    Spring Boot
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.4" data-path="../../spring/spring-session.html">
            
                <a href="../../spring/spring-session.html">
            
                    
                    Spring Session
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.5" data-path="../../spring/spring-cloud.html">
            
                <a href="../../spring/spring-cloud.html">
            
                    
                    Spring Cloud
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../../groovy/groovy.html">
            
                <a href="../../groovy/groovy.html">
            
                    
                    Groovy
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.3.1" data-path="../../groovy/groovy-decompile.html">
            
                <a href="../../groovy/groovy-decompile.html">
            
                    
                    groovy 反编译
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.2" data-path="../../groovy/grails.html">
            
                <a href="../../groovy/grails.html">
            
                    
                    Grails
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.3" data-path="../../groovy/grails-spring-dsl.html">
            
                <a href="../../groovy/grails-spring-dsl.html">
            
                    
                    Spring DSL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.4" data-path="../../groovy/grails-counter-example.html">
            
                <a href="../../groovy/grails-counter-example.html">
            
                    
                    反例
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../../java/maven.html">
            
                <a href="../../java/maven.html">
            
                    
                    Maven
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.4.1" data-path="../../java/nexus.html">
            
                <a href="../../java/nexus.html">
            
                    
                    Nexus
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.5" >
            
                <span>
            
                    
                    其他类库
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.5.1" data-path="../../java/joda-time.html">
            
                <a href="../../java/joda-time.html">
            
                    
                    Joda-Time
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    前端开发
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../../h5/css.html">
            
                <a href="../../h5/css.html">
            
                    
                    CSS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1.1" data-path="../../h5/font.html">
            
                <a href="../../h5/font.html">
            
                    
                    font
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.1.2" data-path="../../h5/sass.html">
            
                <a href="../../h5/sass.html">
            
                    
                    Sass
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../../js/js.html">
            
                <a href="../../js/js.html">
            
                    
                    JavaScript
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.2.1" data-path="../../js/angularjs.html">
            
                <a href="../../js/angularjs.html">
            
                    
                    AngularJs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2.2" data-path="../../js/nodejs.html">
            
                <a href="../../js/nodejs.html">
            
                    
                    Node.js
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2.3" data-path="../../js/jshint.html">
            
                <a href="../../js/jshint.html">
            
                    
                    jshint
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2.4" data-path="../../js/gulp.html">
            
                <a href="../../js/gulp.html">
            
                    
                    Gulp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2.5" data-path="../../js/grunt.html">
            
                <a href="../../js/grunt.html">
            
                    
                    Grunt
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../../js/ts.html">
            
                <a href="../../js/ts.html">
            
                    
                    TypeScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../../h5/ux.html">
            
                <a href="../../h5/ux.html">
            
                    
                    UX
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" >
            
                <span>
            
                    
                    浏览器
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.5.1" data-path="../../browser/firefox.html">
            
                <a href="../../browser/firefox.html">
            
                    
                    Firefox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5.2" data-path="../../browser/chromium.html">
            
                <a href="../../browser/chromium.html">
            
                    
                    Chromium
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    其他编程语言
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../../pl/scala.html">
            
                <a href="../../pl/scala.html">
            
                    
                    scala
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../../pl/python.html">
            
                <a href="../../pl/python.html">
            
                    
                    python
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../../pl/ruby.html">
            
                <a href="../../pl/ruby.html">
            
                    
                    ruby
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    安全相关
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../../sec/sec-csrf.html">
            
                <a href="../../sec/sec-csrf.html">
            
                    
                    CSRF
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../../sec/sec-clickjacking.html">
            
                <a href="../../sec/sec-clickjacking.html">
            
                    
                    Clickjacking
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../../sec/sec-xss.html">
            
                <a href="../../sec/sec-xss.html">
            
                    
                    XSS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../../sec/sec-7788.html">
            
                <a href="../../sec/sec-7788.html">
            
                    
                    7788
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    质量保证
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../../qa/jenkins.html">
            
                <a href="../../qa/jenkins.html">
            
                    
                    Jenkins
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../../jmeter">
            
                <span>
            
                    
                    Jmeter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" >
            
                <span>
            
                    
                    sysbench
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.3.1" data-path="../../qa/sysbench-cpu.html">
            
                <a href="../../qa/sysbench-cpu.html">
            
                    
                    sysbench 进行 cpu 测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.2" data-path="../../qa/sysbench-fileio.html">
            
                <a href="../../qa/sysbench-fileio.html">
            
                    
                    sysbench 进行磁盘测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.3" data-path="../../qa/sysbench-mysql.html">
            
                <a href="../../qa/sysbench-mysql.html">
            
                    
                    sysbench 进行 MySql 压力测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.4" data-path="../../qa/ab.html">
            
                <a href="../../qa/ab.html">
            
                    
                    apache benchmark
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.5" data-path="../../qa/zentao.html">
            
                <a href="../../qa/zentao.html">
            
                    
                    禅道
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.6" data-path="../../qa/sonarqube.html">
            
                <a href="../../qa/sonarqube.html">
            
                    
                    SonarQube
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    网络
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../../net/wireshark.html">
            
                <a href="../../net/wireshark.html">
            
                    
                    wireshark
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../../net/ntp.md">
            
                <span>
            
                    
                    ntp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../../net/haproxy.md">
            
                <span>
            
                    
                    haproxy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="../../net/cdx.html">
            
                <a href="../../net/cdx.html">
            
                    
                    昌德讯电话
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="../../net/curl.html">
            
                <a href="../../net/curl.html">
            
                    
                    curl
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="../../net/dns.html">
            
                <a href="../../net/dns.html">
            
                    
                    DNS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.7" data-path="../../net/https.html">
            
                <a href="../../net/https.html">
            
                    
                    https
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.8" data-path="../../net/ssh.html">
            
                <a href="../../net/ssh.html">
            
                    
                    ssh
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.9" data-path="../../net/goagent.html">
            
                <a href="../../net/goagent.html">
            
                    
                    GoAgent
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" >
            
                <span>
            
                    
                    文件系统
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../../fs/fdisk.html">
            
                <a href="../../fs/fdisk.html">
            
                    
                    fdisk
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../../fs/samba.html">
            
                <a href="../../fs/samba.html">
            
                    
                    samba
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="../../fs/nfs.html">
            
                <a href="../../fs/nfs.html">
            
                    
                    nfs
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" >
            
                <span>
            
                    
                    操作系统
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="centos-base-setup.html">
            
                <a href="centos-base-setup.html">
            
                    
                    CentOS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1.1" data-path="centos-limits.html">
            
                <a href="centos-limits.html">
            
                    
                    limits
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.2" data-path="top.html">
            
                <a href="top.html">
            
                    
                    top
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.3" data-path="centos-yum.html">
            
                <a href="centos-yum.html">
            
                    
                    yum
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.4" data-path="firewalld.html">
            
                <a href="firewalld.html">
            
                    
                    firewalld
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.5" data-path="iptables.html">
            
                <a href="iptables.html">
            
                    
                    iptables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.6" data-path="../../net/openvpn.html">
            
                <a href="../../net/openvpn.html">
            
                    
                    OpenVpn
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="ubuntu.html">
            
                <a href="ubuntu.html">
            
                    
                    Ubuntu
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.12.3" data-path="bash.html">
            
                <a href="bash.html">
            
                    
                    Bash
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="vim.html">
            
                <a href="vim.html">
            
                    
                    Vim
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.5" data-path="upstart.html">
            
                <a href="upstart.html">
            
                    
                    Upstart
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" >
            
                <span>
            
                    
                    数据库
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="../../db/postgresql.html">
            
                <a href="../../db/postgresql.html">
            
                    
                    PostGreSql
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="../../db/redis.html">
            
                <a href="../../db/redis.html">
            
                    
                    Redis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3" data-path="../../db/mysql.html">
            
                <a href="../../db/mysql.html">
            
                    
                    MySql
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.3.1" data-path="../../db/mysql-install.html">
            
                <a href="../../db/mysql-install.html">
            
                    
                    MySql 安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3.2" data-path="../../db/mysql-tuning.html">
            
                <a href="../../db/mysql-tuning.html">
            
                    
                    MySql 调优
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3.3" data-path="../../db/mysql-replication.html">
            
                <a href="../../db/mysql-replication.html">
            
                    
                    MySql 主从复制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3.4" data-path="../../db/mysql-rw-splitting.html">
            
                <a href="../../db/mysql-rw-splitting.html">
            
                    
                    MySql 读写分离
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" >
            
                <span>
            
                    
                    服务
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="../../server/ntp.html">
            
                <a href="../../server/ntp.html">
            
                    
                    ntp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="../../server/jetty.html">
            
                <a href="../../server/jetty.html">
            
                    
                    jetty
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.3" data-path="../../server/tomcat.html">
            
                <a href="../../server/tomcat.html">
            
                    
                    Tomcat
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.4" data-path="../../server/rabbitmq.html">
            
                <a href="../../server/rabbitmq.html">
            
                    
                    RabbitMq
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.5" data-path="../../server/nginx.html">
            
                <a href="../../server/nginx.html">
            
                    
                    nginx
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.6" data-path="../../server/tengine.html">
            
                <a href="../../server/tengine.html">
            
                    
                    tengine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.7" >
            
                <span>
            
                    
                    ZooKeeper
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.7.1" data-path="../../db/zk-intro.md">
            
                <span>
            
                    
                    ZooKeeper简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.7.2" data-path="../../db/zk-install.md">
            
                <span>
            
                    
                    ZooKeeper安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.7.3" data-path="../../db/zk-cluster-demo.md">
            
                <span>
            
                    
                    ZooKeeper单机集群配置示例
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14.8" >
            
                <span>
            
                    
                    ElasticSearch
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.8.1" data-path="../../db/es-intro.html">
            
                <a href="../../db/es-intro.html">
            
                    
                    ElasticSearch简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.8.2" data-path="../../db/es-install.html">
            
                <a href="../../db/es-install.html">
            
                    
                    ElasticSearch安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.8.3" data-path="../../db/es-search.html">
            
                <a href="../../db/es-search.html">
            
                    
                    ElasticSearch示例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.8.4" data-path="../../db/es-pinyin.html">
            
                <a href="../../db/es-pinyin.html">
            
                    
                    ElasticSearch拼音/自动完成
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14.9" >
            
                <span>
            
                    
                    MongoDB
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.9.1" data-path="../../db/mongo-intro.html">
            
                <a href="../../db/mongo-intro.html">
            
                    
                    mongoDB 简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.9.2" data-path="../../db/mongo-install.html">
            
                <a href="../../db/mongo-install.html">
            
                    
                    mongoDB 安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.9.3" data-path="../../db/mongo.html">
            
                <a href="../../db/mongo.html">
            
                    
                    mongoDB 使用总结
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.9.4" data-path="../../db/mongo-java-demo.html">
            
                <a href="../../db/mongo-java-demo.html">
            
                    
                    MongoDB java示例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.9.5" data-path="../../db/robomongo.html">
            
                <a href="../../db/robomongo.html">
            
                    
                    Robomongo
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14.10" >
            
                <span>
            
                    
                    Cassandra  —— 暂时放弃使用
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" >
            
                <span>
            
                    
                    手机APP开发
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="../../app/hybird-app.html">
            
                <a href="../../app/hybird-app.html">
            
                    
                    Hybrid App
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" >
            
                <span>
            
                    
                    虚拟化
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="../../vm/docker.html">
            
                <a href="../../vm/docker.html">
            
                    
                    docker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="../../vm/VirtualBox.html">
            
                <a href="../../vm/VirtualBox.html">
            
                    
                    VirtualBox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.3" data-path="../../vm/vmware.html">
            
                <a href="../../vm/vmware.html">
            
                    
                    vmware
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" >
            
                <span>
            
                    
                    架构
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1" data-path="../../arch/cdn.html">
            
                <a href="../../arch/cdn.html">
            
                    
                    CDN
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2" data-path="../../arch/cluster.html">
            
                <a href="../../arch/cluster.html">
            
                    
                    cluster
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.3" data-path="../../java/cas-intro.md">
            
                <span>
            
                    
                    单点登录 CAS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18" >
            
                <span>
            
                    
                    IDE
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.1" data-path="../../ide/eclipse.html">
            
                <a href="../../ide/eclipse.html">
            
                    
                    Eclipse
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.2" data-path="../../ide/idea-intellij.html">
            
                <a href="../../ide/idea-intellij.html">
            
                    
                    IDEA Intellij
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.3" data-path="../../ide/sublime.html">
            
                <a href="../../ide/sublime.html">
            
                    
                    Sublime
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.19" >
            
                <span>
            
                    
                    第三方服务
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.19.1" data-path="../../3rd/weather.html">
            
                <a href="../../3rd/weather.html">
            
                    
                    气象数据开放平台
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.2" >
            
                <span>
            
                    
                    微信
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.19.2.1" data-path="../../3rd/wx-h5-debug.html">
            
                <a href="../../3rd/wx-h5-debug.html">
            
                    
                    调试微信打开的 html5 页面
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.2.2" data-path="../../3rd/wx-nginx.html">
            
                <a href="../../3rd/wx-nginx.html">
            
                    
                    微信Nginx配置
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20" >
            
                <span>
            
                    
                    办公
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.1" data-path="../../office/thunderbird.html">
            
                <a href="../../office/thunderbird.html">
            
                    
                    thunderbird
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2" data-path="../../office/vba.html">
            
                <a href="../../office/vba.html">
            
                    
                    vba
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3" data-path="../../office/law.html">
            
                <a href="../../office/law.html">
            
                    
                    法律法规
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本書使用 GitBook 釋出
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Bash</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
                                <section class="normal markdown-section">
                                
                                <h2 id="grep">grep</h2>
<pre class="language-"><code># &#x67E5;&#x627E;&#x51FA;&#x4E0D;&#x5339;&#x914D; &quot;xxx&quot; &#x548C; &quot;yyy&quot; &#x7684;&#x5185;&#x5BB9;
grep -v &quot;xxx\|yyy&quot;
find /data0/work/git-repo/github/btpka3/btpka3.github.com -type d \
    | grep -v &apos;node_modules\|bower_components\|jspm_packages\|target\|/.git\|/.gradle\|/build\|/.idea\|/site-packages&apos; \
    | less
</code></pre><h2 id="free">free</h2>
<p>&#x300A;<a href="http://www.cnblogs.com/xuxinkun/p/5541894.html" target="_blank">linux&#x5185;&#x5B58;&#x76D1;&#x63A7;</a>&#x300B;
Mac OSX &#x4E0A;&#x6CA1;&#x6709; free &#x547D;&#x4EE4;,&#x7C7B;&#x4F3C;&#x7684;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; vm_stat &#x547D;&#x4EE4;&#x3002;</p>
<pre class="language-"><code>[root@localhost ~]$ free
             total       used       free        shared    buffers   cached
Mem:     total_mem   used_mem    free_mem   shared_mem    buffer     cache
-/+ buffers/cache:  real_used   real_free
Swap:   total_swap  used_swap   free_swap
</code></pre><ul>
<li>mem: &#x7269;&#x7406;&#x5185;&#x5B58;</li>
<li>swap: &#x865A;&#x62DF;&#x5185;&#x5B58;&#x3002;&#x5373;&#x53EF;&#x4EE5;&#x628A;&#x6570;&#x636E;&#x5B58;&#x653E;&#x5728;&#x786C;&#x76D8;&#x4E0A;&#x7684;&#x6570;&#x636E;</li>
<li>shared: &#x5171;&#x4EAB;&#x5185;&#x5B58;&#x3002;&#x5B58;&#x5728;&#x5728;&#x7269;&#x7406;&#x5185;&#x5B58;&#x4E2D;&#x3002;</li>
<li>buffers: &#x7528;&#x4E8E;&#x5B58;&#x653E;&#x8981;&#x8F93;&#x51FA;&#x5230;disk&#xFF08;&#x5757;&#x8BBE;&#x5907;&#xFF09;&#x7684;&#x6570;&#x636E;&#x7684;</li>
<li>cached: &#x5B58;&#x653E;&#x4ECE;disk&#x4E0A;&#x8BFB;&#x51FA;&#x7684;&#x6570;&#x636E;</li>
</ul>
<table>
<thead>
<tr>
<th>&#x540D;&#x79F0;</th>
<th>&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>total_mem</td>
<td>&#x7269;&#x7406;&#x5185;&#x5B58;&#x603B;&#x91CF;</td>
</tr>
<tr>
<td>used_mem</td>
<td>&#x5DF2;&#x4F7F;&#x7528;&#x7684;&#x7269;&#x7406;&#x5185;&#x5B58;&#x91CF;</td>
</tr>
<tr>
<td>free_mem</td>
<td>&#x7A7A;&#x95F2;&#x7684;&#x7269;&#x7406;&#x5185;&#x5B58;&#x91CF;</td>
</tr>
<tr>
<td>shared_mem</td>
<td>&#x5171;&#x4EAB;&#x5185;&#x5B58;&#x91CF;</td>
</tr>
<tr>
<td>buffer</td>
<td>buffer&#x6240;&#x5360;&#x5185;&#x5B58;&#x91CF;</td>
</tr>
<tr>
<td>cache</td>
<td>cache&#x6240;&#x5360;&#x5185;&#x5B58;&#x91CF;</td>
</tr>
<tr>
<td>real_used</td>
<td>&#x5B9E;&#x9645;&#x4F7F;&#x7528;&#x7684;&#x5185;&#x5B58;&#x91CF;</td>
</tr>
<tr>
<td>real_free</td>
<td>&#x5B9E;&#x9645;&#x7A7A;&#x95F2;&#x7684;&#x5185;&#x5B58;&#x91CF;</td>
</tr>
<tr>
<td>total_swap</td>
<td>swap&#x603B;&#x91CF;</td>
</tr>
<tr>
<td>used_swap</td>
<td>&#x5DF2;&#x4F7F;&#x7528;&#x7684;swap</td>
</tr>
<tr>
<td>free_swap</td>
<td>&#x7A7A;&#x95F2;&#x7684;swap</td>
</tr>
</tbody>
</table>
<pre class="language-"><code>real_used = used_mem - buffer - cache
real_free = free_mem + buffer + cache
total_mem = used_mem + free_mem
</code></pre><h2 id="dd">dd</h2>
<pre class="language-"><code>dd if=/dev/zero of=test.1M.txt bs=1M count=1
</code></pre><h2 id="group">group</h2>
<pre class="language-"><code class="lang-bash"><span class="token comment" spellcheck="true"># &#x67E5;&#x770B;&#x7528;&#x6237;&#x96B6;&#x5C5E;&#x4E8E;&#x54EA;&#x4E9B;&#x7528;&#x6237;&#x7EC4;</span>
group <span class="token operator">&lt;</span>userName<span class="token operator">&gt;</span>

<span class="token comment" spellcheck="true"># &#x5C06;&#x7528;&#x6237;&#x6DFB;&#x52A0;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x7528;&#x6237;&#x7EC4;&#x4E2D;</span>
<span class="token function">usermod</span> -a -G <span class="token operator">&lt;</span>newGroupName<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>userName<span class="token operator">&gt;</span>

<span class="token comment" spellcheck="true"># &#x4FEE;&#x6539;&#x7528;&#x6237;&#x7684;home&#x8DEF;&#x5F84;</span>
<span class="token function">usermod</span> -m -d /path/to/new/home/dir userNameHere
</code></pre>
<h2 id="array">array</h2>
<pre class="language-"><code class="lang-bash"><span class="token comment" spellcheck="true"># &#x58F0;&#x660E;&#x6570;&#x7EC4;&#xFF0C;&#x5143;&#x7D20;&#x4E4B;&#x95F4;&#x4F7F;&#x7528;&#x7A7A;&#x683C;&#x5206;&#x9694;</span>
arr<span class="token operator">=</span><span class="token punctuation">(</span> <span class="token string">&quot;aaa&quot;</span> <span class="token string">&quot;bbb&quot;</span> <span class="token string">&quot;xxx&quot;</span> <span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># &#x663E;&#x793A;&#x6570;&#x7EC4;&#x957F;&#x5EA6;</span>
<span class="token keyword">echo</span> <span class="token variable">${#arr[@]}</span>         <span class="token comment" spellcheck="true"># 3</span>
<span class="token keyword">echo</span> <span class="token variable">${#arr[*]}</span>         <span class="token comment" spellcheck="true"># 3</span>

<span class="token comment" spellcheck="true"># &#x663E;&#x793A;&#x6574;&#x4E2A;&#x6570;&#x7EC4;</span>
<span class="token keyword">echo</span> <span class="token variable">${arr[@]}</span>          <span class="token comment" spellcheck="true"># aaa bbb xxx</span>
<span class="token keyword">echo</span> <span class="token variable">${arr[*]}</span>          <span class="token comment" spellcheck="true"># aaa bbb xxx</span>
<span class="token keyword">set</span> <span class="token operator">|</span> <span class="token function">grep</span> arr          <span class="token comment" spellcheck="true"># arr=([0]=&quot;aaa&quot; [1]=&quot;bbb&quot; [2]=&quot;xxx&quot;)</span>

<span class="token comment" spellcheck="true"># &#x663E;&#x793A;&#x5355;&#x4E2A;&#x5143;&#x7D20;</span>
<span class="token keyword">echo</span> <span class="token variable">${arr[0]}</span>          <span class="token comment" spellcheck="true"># aaa</span>
<span class="token keyword">echo</span> <span class="token variable">${arr[999]}</span>        <span class="token comment" spellcheck="true"># (Empty)</span>

<span class="token comment" spellcheck="true"># &#x5355;&#x4E2A;&#x5143;&#x7D20;&#x91CD;&#x65B0;&#x8BBE;&#x503C;</span>
arr<span class="token punctuation">[</span>2<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&apos;yyy&apos;</span>
<span class="token keyword">set</span> <span class="token operator">|</span> <span class="token function">grep</span> arr          <span class="token comment" spellcheck="true"># arr=([0]=&quot;aaa&quot; [1]=&quot;bbb&quot; [2]=&quot;yyy&quot;)</span>

arr<span class="token punctuation">[</span>999<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&apos;yyz&apos;</span>
<span class="token keyword">set</span> <span class="token operator">|</span> <span class="token function">grep</span> arr          <span class="token comment" spellcheck="true"># arr=([0]=&quot;aaa&quot; [1]=&quot;bbb&quot; [2]=&quot;yyy&quot; [999]=&quot;yyz&quot;)</span>

<span class="token comment" spellcheck="true"># &#x5411;&#x672B;&#x5C3E;append&#x65B0;&#x5143;&#x7D20;</span>
arr+<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&apos;zzz&apos;</span><span class="token punctuation">)</span>
<span class="token keyword">set</span> <span class="token operator">|</span> <span class="token function">grep</span> arr          <span class="token comment" spellcheck="true"># arr=([0]=&quot;aaa&quot; [1]=&quot;bbb&quot; [2]=&quot;yyy&quot; [999]=&quot;yyz&quot; [1000]=&quot;zzz&quot;)</span>

<span class="token comment" spellcheck="true"># &#x5220;&#x9664;&#x6307;&#x5B9A;&#x7684;&#x5143;&#x7D20;</span>
unset arr<span class="token punctuation">[</span>2<span class="token punctuation">]</span>
<span class="token keyword">set</span> <span class="token operator">|</span> <span class="token function">grep</span> arr          <span class="token comment" spellcheck="true"># arr=([0]=&quot;aaa&quot; [1]=&quot;bbb&quot; [999]=&quot;yyz&quot; [1000]=&quot;zzz&quot;)</span>

<span class="token comment" spellcheck="true"># &#x6E05;&#x9664;&#x6574;&#x4E2A;&#x6570;&#x7EC4;</span>
unset arr

<span class="token comment" spellcheck="true"># &#x8FED;&#x4EE3;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token variable">${arr[@]}</span>
<span class="token keyword">do</span>
    <span class="token keyword">echo</span> <span class="token operator">==</span><span class="token operator">=</span><span class="token variable">$i</span><span class="token operator">==</span><span class="token operator">=</span>
<span class="token keyword">done</span>


<span class="token comment" spellcheck="true"># &#x8FED;&#x4EE3;&#x975E;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5143;&#x7D20;</span>
<span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>${#arr[@]}<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">))</span></span><span class="token punctuation">;</span>
<span class="token keyword">do</span>
    <span class="token keyword">echo</span> <span class="token operator">==</span><span class="token operator">=</span><span class="token variable">${arr[i]}</span><span class="token operator">==</span><span class="token operator">=</span>
<span class="token keyword">done</span>
</code></pre>
<h2 id="number-calc">number calc</h2>
<pre class="language-"><code class="lang-bash"><span class="token keyword">let</span> a<span class="token operator">=</span>1+2  <span class="token comment" spellcheck="true"># a=3</span>
<span class="token function">expr</span> 1 + 2 <span class="token comment" spellcheck="true"># 3, &#x6CE8;&#x610F;&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x7A7A;&#x683C;&#x5206;&#x9694;</span>
</code></pre>
<h2 id="exit-code">exit code</h2>
<pre class="language-"><code class="lang-bash"><span class="token keyword">.</span> /etc/rc.d/init.d/functions
<span class="token variable"><span class="token punctuation">((</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token number">1</span> <span class="token punctuation">))</span></span> <span class="token comment" spellcheck="true"># simulate an error exit code</span>
rc<span class="token operator">=</span><span class="token variable">$?</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$errCode</span> -ne 0 <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span>
   failure
   <span class="token keyword">exit</span> 1
<span class="token punctuation">}</span>

<span class="token keyword">.</span> /etc/rc.d/init.d/functions
<span class="token variable"><span class="token punctuation">((</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token number">1</span> <span class="token punctuation">))</span></span> <span class="token operator">&amp;&amp;</span> success <span class="token operator">||</span> <span class="token punctuation">{</span>
  failure
  <span class="token keyword">exit</span> <span class="token variable">$?</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="loop">loop</h2>
<pre class="language-"><code class="lang-bash"><span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span> COUNTER<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> COUNTER<span class="token operator">&lt;=</span><span class="token number">10</span><span class="token punctuation">;</span> COUNTER<span class="token operator">+</span><span class="token operator">=</span><span class="token number">2</span> <span class="token punctuation">))</span></span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token keyword">echo</span> <span class="token variable">$COUNTER</span>
<span class="token keyword">done</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token punctuation">{</span>0<span class="token punctuation">..</span>10<span class="token punctuation">..</span>2<span class="token punctuation">}</span>
<span class="token keyword">do</span>
  <span class="token keyword">echo</span> <span class="token variable">$i</span>
<span class="token keyword">done</span>

a<span class="token operator">=</span>10
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token variable"><span class="token variable">`</span><span class="token function">eval</span> <span class="token keyword">echo</span> <span class="token punctuation">{</span>0<span class="token punctuation">..</span>$a<span class="token punctuation">..</span>2<span class="token punctuation">}</span><span class="token variable">`</span></span><span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token keyword">echo</span> <span class="token variable">$i</span><span class="token punctuation">;</span> <span class="token keyword">done</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token variable"><span class="token variable">`</span><span class="token function">seq</span> 0 2 10<span class="token variable">`</span></span><span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token keyword">echo</span> <span class="token variable">$i</span><span class="token punctuation">;</span> <span class="token keyword">done</span>
</code></pre>
<h2 id="&#x68C0;&#x67E5;&#x76EE;&#x5F55;&#x662F;&#x5426;&#x4E3A;&#x7A7A;">&#x68C0;&#x67E5;&#x76EE;&#x5F55;&#x662F;&#x5426;&#x4E3A;&#x7A7A;</h2>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="http://www.cyberciti.biz/faq/linux-unix-shell-check-if-directory-empty/" target="_blank">1</a></p>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span>/bin/ls -A yourDir<span class="token variable">)</span></span>&quot;</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">echo</span> <span class="token string">&quot;Not Empty&quot;</span> <span class="token operator">||</span> <span class="token keyword">echo</span> Empty`
</code></pre>
<h2 id="port">port</h2>
<pre class="language-"><code class="lang-bash"><span class="token function">fuser</span> 16000/tcp             <span class="token comment" spellcheck="true"># &#x9700;&#x8981;root&#x7528;&#x6237;&#xFF0C;&#x67E5;&#x770B;&#x54EA;&#x4E2A;&#x8FDB;&#x7A0B;&#x76D1;&#x542C;&#x4E86;16000&#x7AEF;&#x53E3;</span>
<span class="token function">chmod</span> +s /usr/sbin/fuser    <span class="token comment" spellcheck="true"># &#x5982;&#x679C;&#x60F3;&#x8981;&#x975E;root&#x7528;&#x6237;&#x4E5F;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x8BE5;&#x547D;&#x4EE4;&#xFF0C;&#x5219;&#x8BBE;&#x7F6E; SUID &#x5373;&#x53EF;</span>
</code></pre>
<h2 id="sed-&#x66FF;&#x6362;properties&#x4E2D;&#x7684;&#x5C5E;&#x6027;&#x503C;">sed &#x66FF;&#x6362;properties&#x4E2D;&#x7684;&#x5C5E;&#x6027;&#x503C;</h2>
<p>&#x53C2;&#x8003;&#xFF1A;
<a href="http://en.wikipedia.org/wiki/Regular_expression" target="_blank">1</a>&#x3001;
<a href="http://www.mikeplate.com/2012/05/09/extract-regular-expression-group-match-using-grep-or-sed/" target="_blank">2</a>&#x3001;
<a href="http://www.gnu.org/software/sed/manual/html_node/Regular-Expressions.html" target="_blank">3</a>&#x3001;
<a href="http://www.gnu.org/software/sed/manual/html_node/Escapes.html#Escapes" target="_blank">4</a>&#x3001;
<a href="http://docs.oracle.com/javase/1.4.2/docs/api/java/util/regex/Pattern.html" target="_blank">5</a></p>
<pre class="language-"><code class="lang-bash">escSedRegKey<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true"># POSIX basic regular expression metacharacter : . [ ] ^ $ ( ) \ * { }</span>
  <span class="token comment" spellcheck="true"># POSIX extended regular expression metacharacter : ? + |</span>
  <span class="token comment" spellcheck="true"># sed special character: / ( usually as delimiter) &amp;</span>
  <span class="token keyword">echo</span> <span class="token string">&quot;<span class="token variable">$1</span>&quot;</span> <span class="token operator">|</span> <span class="token function">sed</span> -r -e <span class="token string">&apos;s/\\/\\\\/g&apos;</span> -e <span class="token string">&apos;s/\./\\./g&apos;</span> -e <span class="token string">&apos;s/\[/\\[/g&apos;</span> -e <span class="token string">&apos;s/\]/\\]/g&apos;</span> -e <span class="token string">&apos;s/\^/\\^/g&apos;</span> -e <span class="token string">&apos;s/\$/\\$/g&apos;</span> -e <span class="token string">&apos;s/\(/\\(/g&apos;</span> -e <span class="token string">&apos;s/\)/\\)/g&apos;</span> -e <span class="token string">&apos;s/\*/\\*/g&apos;</span> -e <span class="token string">&apos;s/\{/\\{/g&apos;</span> -e <span class="token string">&apos;s/\}/\\}/g&apos;</span> -e <span class="token string">&apos;s/\?/\\?/g&apos;</span> -e <span class="token string">&apos;s/\+/\\+/g&apos;</span> -e <span class="token string">&apos;s/\|/\\|/g&apos;</span> -e <span class="token string">&apos;s/\//\\&amp;/g&apos;</span> -e <span class="token string">&apos;s/&amp;/\\\&amp;/g&apos;</span>
<span class="token punctuation">}</span>
escSedRegVal<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true"># sed special character: / ( usually as delimiter) &amp;</span>
  <span class="token keyword">echo</span> <span class="token string">&quot;<span class="token variable">$1</span>&quot;</span> <span class="token operator">|</span> <span class="token function">sed</span> -r -e <span class="token string">&apos;s/\\/\\\\/g&apos;</span> -e <span class="token string">&apos;s/\//\\&amp;/g&apos;</span> -e <span class="token string">&apos;s/&amp;/\\\&amp;/g&apos;</span>
<span class="token punctuation">}</span>

k<span class="token operator">=</span><span class="token string">&apos;KEY .[]^$()\*{}?+|/&amp;:  KEY= VALUE  .[]^$()\*{}?+|/&amp;:  VALUE &apos;</span>
target<span class="token operator">=</span><span class="token string">&apos;      KEY .[]^$()\*{}?+|/&amp;:  KEY      = xxxxxxx  &apos;</span>

kk<span class="token operator">=</span><span class="token punctuation">$(</span>echo <span class="token string">&quot;<span class="token variable">$k</span>&quot;</span> <span class="token operator">|</span> <span class="token function">sed</span> -nr <span class="token string">&apos;s/[[:space:]]*([^=]*[^[:space:]])[[:space:]]*=.*/\1/p&apos;</span><span class="token punctuation">)</span>
kv<span class="token operator">=</span><span class="token punctuation">$(</span>echo <span class="token string">&quot;<span class="token variable">$k</span>&quot;</span> <span class="token operator">|</span> <span class="token function">sed</span> -nr <span class="token string">&apos;s/[^=]*=[[:space:]]*(.*[^[:space:]])[[:space:]]*/\1/p&apos;</span><span class="token punctuation">)</span>
ekk<span class="token operator">=</span><span class="token punctuation">$(</span>escSedRegKey <span class="token string">&quot;<span class="token variable">$kk</span>&quot;</span><span class="token punctuation">)</span>
ekv<span class="token operator">=</span><span class="token punctuation">$(</span>escSedRegVal <span class="token string">&quot;<span class="token variable">$kv</span>&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">echo</span> <span class="token string">&quot;<span class="token variable">$target</span>&quot;</span> <span class="token operator">|</span> <span class="token function">sed</span> -r <span class="token string">&quot;s/^([[:space:]]*<span class="token variable">$ekk</span>[[:space:]]*=).*$/\1<span class="token variable">$ekv</span>/g&quot;</span>
</code></pre>
<h2 id="&#x5B57;&#x7B26;&#x4E32;&#x5904;&#x7406;">&#x5B57;&#x7B26;&#x4E32;&#x5904;&#x7406;</h2>
<h3 id="substr">substr</h3>
<pre class="language-"><code class="lang-bash">str<span class="token operator">=</span><span class="token string">&apos;CREATE TABLE <span class="token variable"><span class="token variable">`</span>offercalc_fields<span class="token variable">`</span></span> (&apos;</span>
<span class="token keyword">echo</span> <span class="token variable">$str</span> <span class="token operator">|</span> <span class="token function">grep</span> -Po <span class="token string">&apos;(?&lt;=CREATE TABLE <span class="token variable"><span class="token variable">`</span><span class="token punctuation">)</span>.+<span class="token punctuation">(</span>?<span class="token operator">=</span><span class="token variable">`</span></span>)&apos;</span>
<span class="token keyword">echo</span> <span class="token variable">$str</span> <span class="token operator">|</span> <span class="token function">sed</span> -nr <span class="token string">&apos;s/CREATE TABLE <span class="token variable"><span class="token variable">`</span><span class="token punctuation">(</span>.+<span class="token punctuation">)</span><span class="token variable">`</span></span>.*/\1/p&apos;</span>

<span class="token comment" spellcheck="true"># &quot;16000/tcp:           16737&quot;</span>
<span class="token function">fuser</span> 16000/tcp 2<span class="token operator">&gt;</span><span class="token operator">&amp;</span>1 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&apos;{print <span class="token variable">$2</span>}&apos;</span>
<span class="token comment" spellcheck="true"># sed &#x7684;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x8BF7;&#x53C2;&#x8003;&#xFF1A;</span>
<span class="token comment" spellcheck="true"># https://en.wikipedia.org/wiki/Regular_expression#POSIX_basic_and_extended</span>
<span class="token function">fuser</span> 16000/tcp 2<span class="token operator">&gt;</span><span class="token operator">&amp;</span>1 <span class="token operator">|</span> <span class="token function">sed</span> -nr <span class="token string">&apos;s/[^[:space:]]+[[:space:]]+([[:digit:]]+)/\1/p&apos;</span>
</code></pre>
<h3 id="replace">replace</h3>
<pre class="language-"><code class="lang-bash">str<span class="token operator">=</span>my-app-2.0.2.war
<span class="token keyword">echo</span> <span class="token variable">$str</span> <span class="token operator">|</span> <span class="token function">sed</span> -nr <span class="token string">&apos;s/-([0-9]+\.)+[0-9]+//p&apos;</span>
</code></pre>
<h3 id="insert">insert</h3>
<pre class="language-"><code class="lang-bash">str<span class="token operator">=</span>my-app-2.0.2.war
dateStr<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%Y%m%d%H%M%S<span class="token variable">)</span></span>
<span class="token keyword">echo</span> <span class="token variable">$str</span> <span class="token operator">|</span> <span class="token function">sed</span> -nr <span class="token string">&quot;s/(.*)(\.war)/\1-<span class="token variable">${dateStr}</span>\2/p&quot;</span>
</code></pre>
<h3 id="&#x6307;&#x5B9A;&#x884C;&#x7684;&#x5185;&#x5BB9;">&#x6307;&#x5B9A;&#x884C;&#x7684;&#x5185;&#x5BB9;</h3>
<pre class="language-"><code class="lang-bash">str<span class="token operator">=</span><span class="token string">&quot;a\nb\nc\nd\ne&quot;</span>
<span class="token keyword">echo</span> -e <span class="token variable">$str</span> <span class="token operator">|</span> <span class="token function">sed</span> -n <span class="token string">&apos;1p&apos;</span>    <span class="token comment" spellcheck="true"># &#x6253;&#x5370;&#x7B2C;1&#x884C;</span>
<span class="token keyword">echo</span> -e <span class="token variable">$str</span> <span class="token operator">|</span> <span class="token function">sed</span> -n <span class="token string">&apos;2,3p&apos;</span>  <span class="token comment" spellcheck="true"># &#x6253;&#x5370;&#x7B2C;2~3&#x884C;</span>
<span class="token keyword">echo</span> -e <span class="token variable">$str</span> <span class="token operator">|</span> <span class="token function">sed</span> -n <span class="token string">&apos;<span class="token variable">$p</span>&apos;</span>    <span class="token comment" spellcheck="true"># &#x6253;&#x5370;&#x7B2C;&#x6700;&#x540E;&#x4E00;&#x884C;</span>

<span class="token function">tail</span> -f xxxFile
tailf xxxFile <span class="token operator">|</span> <span class="token function">grep</span> --line-buffered --color<span class="token operator">=</span>auto xxxKeyWord
</code></pre>
<h2 id="&#x6587;&#x672C;&#x5904;&#x7406;">&#x6587;&#x672C;&#x5904;&#x7406;</h2>
<pre class="language-"><code># append &#x591A;&#x884C;&#x5230;&#x7279;&#x5B9A;&#x6587;&#x4EF6;
cat &lt;&lt;EOF | sudo tee -a /etc/hosts
127.0.0.1 aaa
127.0.0.1 bbb
127.0.0.1 ccc
EOF
</code></pre><h2 id="date">date</h2>
<p>&#x8BBE;&#x7F6E;&#x65F6;&#x95F4;</p>
<pre class="language-"><code class="lang-bash"><span class="token function">date</span> -s <span class="token string">&quot;20150130 10:45:00&quot;</span>
</code></pre>
<p>&#x5FAA;&#x73AF;&#x6253;&#x5370;&#x5F53;&#x524D;&#x65F6;&#x95F4;</p>
<pre class="language-"><code class="lang-bash">dateStr1<span class="token operator">=</span><span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token function">stat</span> -c %y z.sh<span class="token variable">)</span></span>&quot;</span>
dateStr2<span class="token operator">=</span><span class="token punctuation">$(</span>date -d <span class="token string">&quot;<span class="token variable">${dateStr1}</span>&quot;</span> +%Y%m%d%H%M%S<span class="token punctuation">)</span>
<span class="token keyword">echo</span> -e <span class="token string">&quot;dateStr1=<span class="token variable">$dateStr1</span>\ndateStr2=<span class="token variable">$dateStr2</span>&quot;</span>

<span class="token keyword">while</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token function">sleep</span> 1<span class="token punctuation">;</span> <span class="token keyword">echo</span> -n -e <span class="token string">&quot;\r`date &quot;</span>+%y-%m-%d %H:%M:%S<span class="token string">&quot;`&quot;</span> <span class="token punctuation">;</span> <span class="token keyword">done</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true"># &#x5BF9;&#x547D;&#x4EE4;&#x7EC4;&#x8FDB;&#x884C;&#x65F6;&#x95F4;&#x7EDF;&#x8BA1;</span>
<span class="token function">time</span> <span class="token punctuation">{</span> ll <span class="token punctuation">;</span> <span class="token keyword">echo</span> aaa <span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre>
<h2 id="function">function</h2>
<pre class="language-"><code class="lang-bash">myFunc<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">echo</span> hello <span class="token variable">$1</span>
  <span class="token keyword">exit</span> 1
<span class="token punctuation">}</span>
funcResult<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>myFunc zhang3<span class="token variable">)</span></span>

<span class="token comment" spellcheck="true"># -- &#x8FED;&#x4EE3;&#x53C2;&#x6570;</span>
aaa<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">$@</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">do</span> 
        <span class="token keyword">echo</span> <span class="token operator">==</span><span class="token operator">=</span> <span class="token variable">$i</span>
    <span class="token keyword">done</span>
<span class="token punctuation">}</span>
aaa a1 <span class="token string">&quot;a 2&quot;</span> a3
</code></pre>
<h2 id="xargs">xargs</h2>
<pre class="language-"><code class="lang-bash"><span class="token comment" spellcheck="true"># &#x6279;&#x91CF;&#x91CD;&#x547D;&#x540D;&#x6587;&#x4EF6;&#x540E;&#x7F00;</span>
<span class="token function">ls</span> *.markdown <span class="token operator">|</span> <span class="token function">xargs</span> -I <span class="token string">&apos;{}&apos;</span>  <span class="token function">bash</span> -c <span class="token string">&apos;mv {} <span class="token variable"><span class="token variable">`</span><span class="token function">basename</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> .markdown<span class="token variable">`</span></span>.md&apos;</span>
</code></pre>
<h2 id="ls">ls</h2>
<pre class="language-"><code class="lang-bash"><span class="token comment" spellcheck="true"># &#x6309;&#x7167;&#x6700;&#x540E;&#x8BBF;&#x95EE;&#x65F6;&#x95F4;&#x7684;&#x5148;&#x540E;&#x987A;&#x5E8F;&#x663E;&#x793A;</span>
ll -h --time<span class="token operator">=</span>atime --full-time -rt core*
    <span class="token comment" spellcheck="true"># mtime : &#x6700;&#x540E;&#x4FEE;&#x6539;&#x65F6;&#x95F4;&#xFF08;&#x4EC5;&#x9650;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#xFF09;</span>
    <span class="token comment" spellcheck="true"># ctime : &#x6700;&#x540E;&#x4FEE;&#x6539;&#x65F6;&#x95F4;&#xFF08;&#x542B;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x548C;&#x5176;&#x4ED6;&#x5143;&#x4FE1;&#x606F;&#x2014;&#x2014;&#x6BD4;&#x5982;&#x6743;&#x9650;&#x7B49;&#xFF09;</span>
    <span class="token comment" spellcheck="true"># atime : &#x6700;&#x540E;&#x8BFB;&#x53D6;&#x65F6;&#x95F4;</span>
</code></pre>
<h2 id="pipe">pipe</h2>
<pre class="language-"><code class="lang-bash"><span class="token function">ping</span> baidu.com \
    <span class="token operator">|</span> <span class="token keyword">while</span> <span class="token function">read</span> pong<span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token keyword">echo</span> <span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token function">date</span><span class="token variable">)</span></span>: <span class="token variable">$pong</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">done</span> \
    <span class="token operator">|</span> <span class="token keyword">while</span> <span class="token function">read</span> txt<span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token keyword">echo</span> <span class="token string">&quot;txt : <span class="token variable">$txt</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">done</span>
</code></pre>
<h2 id="ps">ps</h2>
<pre class="language-"><code>ps -ax          # &#x6253;&#x5370;&#x6240;&#x6709;&#x8FDB;&#x7A0B;
ps -aux         # &#x663E;&#x793A;&#x5185;&#x5B58;&#x3001;cpu&#x4F7F;&#x7528;&#x4FE1;&#x606F;
ps -u  zhang3   # &#x663E;&#x793A;&#x7528;&#x6237; zhang3 &#x6240;&#x6709;&#x7684;&#x8FDB;&#x7A0B;
</code></pre><h2 id="&#x538B;&#x7F29;&#x5305;">&#x538B;&#x7F29;&#x5305;</h2>
<h3 id="split">split</h3>
<pre class="language-"><code class="lang-bash"><span class="token comment" spellcheck="true"># &#x5206;&#x5272;</span>
<span class="token function">split</span> -a 2 -b 10m file.tar.gz  newFilePrefix.

<span class="token comment" spellcheck="true"># &#x5408;&#x5E76;</span>
<span class="token function">cat</span> newFilePrefix.* <span class="token operator">&gt;</span> singleFile
</code></pre>
<h3 id="zip">zip</h3>
<pre class="language-"><code class="lang-bash">  <span class="token function">zip</span> -r file.zip file1 file2 <span class="token punctuation">..</span>.
  <span class="token function">tar</span> -cvf file.tar file1 file2 <span class="token punctuation">..</span>.
  <span class="token function">tar</span> -czvf file.tar.gz file1 file2 <span class="token punctuation">..</span>.
  <span class="token function">tar</span> -cjvf file.tar.bz2 file1 file2 <span class="token punctuation">..</span>.

  <span class="token comment" spellcheck="true"># &#x5206;&#x5272;</span>
  <span class="token function">tar</span> -czvf - logs/ <span class="token operator">|</span><span class="token function">split</span> -b 1m - logs.tar.gz.
</code></pre>
<h3 id="add">add</h3>
<pre class="language-"><code class="lang-bash">  <span class="token function">zip</span> -r file.zip file1 file2 <span class="token punctuation">..</span>.
  <span class="token function">tar</span> -rf file.tar file1 file2 <span class="token punctuation">..</span>.
</code></pre>
<h3 id="update">update</h3>
<pre class="language-"><code class="lang-bash">  <span class="token function">zip</span> -r file.zip file1 file2 <span class="token punctuation">..</span>.
  <span class="token comment" spellcheck="true">#tar -uf file.tar file1 file2 ...</span>
  <span class="token function">tar</span> -rf file.tar file1 file2 <span class="token punctuation">..</span>.
</code></pre>
<h3 id="delete">delete</h3>
<pre class="language-"><code class="lang-bash">  <span class="token function">zip</span> -d file.zip file1 file2 <span class="token punctuation">..</span>.
  <span class="token function">tar</span> -f file.tar --delete file1 file2 <span class="token punctuation">..</span>.
</code></pre>
<h3 id="list">list</h3>
<pre class="language-"><code class="lang-bash">  unzip -Z -1 file.zip
  zipinfo -1 file.zip
  <span class="token function">tar</span> -tf file.tar <span class="token operator">|</span> <span class="token function">sort</span> <span class="token operator">|</span> <span class="token function">uniq</span>
  <span class="token function">tar</span> -tzf file.tar.gz
  <span class="token function">tar</span> -tjf file.tar.bz2
</code></pre>
<h3 id="unzip">unzip</h3>
<h4 id="list-all">list all</h4>
<pre class="language-"><code class="lang-bash">  unzip file.zip -d outputDir
  unzip -O GBK windows.zip       <span class="token comment" spellcheck="true"># &#x89E3;&#x538B;&#x5728;Windows&#x5E73;&#x53F0;&#x4E0A;&#x521B;&#x5EFA;&#x7684;zip</span>
  <span class="token function">tar</span> -xvf file.tar       -C outputDir <span class="token comment" spellcheck="true"># outputDir &#x5FC5;&#x987B;&#x5148;&#x521B;&#x5EFA;</span>
  <span class="token function">tar</span> -xzvf file.tar.gz   -C outputDir <span class="token comment" spellcheck="true"># outputDir &#x5FC5;&#x987B;&#x5148;&#x521B;&#x5EFA;</span>
  <span class="token function">tar</span> -xjvf file.tar.bz2  -C outputdir <span class="token comment" spellcheck="true"># outputDir &#x5FC5;&#x987B;&#x5148;&#x521B;&#x5EFA;</span>
  <span class="token function">tar</span> -xJvf file.tar.xz   -C outputdir <span class="token comment" spellcheck="true"># outputDir &#x5FC5;&#x987B;&#x5148;&#x521B;&#x5EFA;</span>

  <span class="token function">rar</span> x xxx.rar /path/to/extract

  <span class="token comment" spellcheck="true"># &#x89E3;&#x538B;&#x5206;&#x5272;&#x7684;&#x591A;&#x4E2A;&#x6587;&#x4EF6;</span>
  <span class="token function">cat</span> newFilePrefix.* <span class="token operator">|</span> <span class="token function">tar</span> -xzvf -C outputDir
</code></pre>
<h4 id="list-specific-filedir">list specific file/dir</h4>
<pre class="language-"><code class="lang-bash">  unzip file.zip entry/path/to/dir/*
  unzip file.zip entry/path/to/file
  unzip -p file.zip entry/path/to/file <span class="token operator">&gt;</span> newFile
</code></pre>
<h3 id="file-search">File Search</h3>
<pre class="language-"><code class="lang-bash">  <span class="token function">which</span> someExecutableFile <span class="token comment" spellcheck="true"># &#x4ECE;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x4E0B;&#x67E5;&#x627E;&#x53EF;&#x6267;&#x884C;&#x7684;&#x6587;&#x4EF6;&#x4F4D;&#x7F6E;</span>

  <span class="token comment" spellcheck="true"># &#x904D;&#x5386;&#x78C1;&#x76D8;&#xFF0C;&#x6309;&#x6307;&#x5B9A;&#x89C4;&#x5219;&#x67E5;&#x627E;&#x6587;&#x4EF6;</span>
  <span class="token function">find</span> / -name xxx 2<span class="token operator">&gt;</span>/dev/null
  <span class="token function">find</span> / -name <span class="token string">&quot;*xxx*&quot;</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token function">ls</span> -l
  <span class="token comment" spellcheck="true"># &#x67E5;&#x627E; &quot;md&quot; &#x7ED3;&#x5C3E;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x4E14;&#x8DEF;&#x5F84;&#x4E0D;&#x5305;&#x542B; &quot;node_modules&quot;&#x3001;&quot;_book&quot;</span>
  <span class="token function">find</span> <span class="token keyword">.</span> -type f \
      -not -path <span class="token string">&quot;*/node_modules*&quot;</span> \
      -and  -not -path <span class="token string">&quot;*/_book/*&quot;</span> \
      -and -name <span class="token string">&quot;*.md&quot;</span>

  <span class="token comment" spellcheck="true"># &#x4ECE;Linux&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x4E2D;&#x67E5;&#x627E;&#x5339;&#x914D;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x901F;&#x5EA6;&#x5FEB;&#xFF0C;&#x4F46;&#x4E0D;&#x53CA;&#x65F6;</span>
  <span class="token comment" spellcheck="true">#&#xFF08;&#x65B0;&#x5EFA;&#x7684;&#x6587;&#x4EF6;&#x65E0;&#x6CD5;&#x7ACB;&#x5373;&#x627E;&#x5230;&#xFF0C;&#x7CFB;&#x7EDF;&#x6587;&#x4EF6;&#x6570;&#x636E;&#x5E93;&#x4E00;&#x661F;&#x671F;&#x4E2A;&#x66F4;&#x65B0;&#x4E00;&#x6B21;&#xFF09;</span>
  <span class="token comment" spellcheck="true"># &#x53EF;&#x4EE5;&#x901A;&#x8FC7; updatedb &#x547D;&#x4EE4;&#x66F4;&#x65B0;&#x7CFB;&#x7EDF;&#x6587;&#x4EF6;&#x6570;&#x636E;&#x5E93;</span>
  <span class="token function">whereis</span> fileName
  <span class="token function">locate</span> fileName
  <span class="token function">locate</span> <span class="token variable">$PWD</span>/*.sqd        <span class="token comment" spellcheck="true"># &#x5217;&#x51FA;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x53CA;&#x5B50;&#x76EE;&#x5F55;&#x4E0B;&#x6240;&#x6709;&#x4EE5; sqd &#x4E3A;&#x540E;&#x7F00;&#x7684;&#x6587;&#x4EF6;</span>

  <span class="token comment" spellcheck="true"># &#x7EDF;&#x8BA1;&#x6587;&#x4EF6;&#x6570;&#x91CF;</span>
  <span class="token function">ls</span> <span class="token operator">|</span> <span class="token function">wc</span> -l

  <span class="token comment" spellcheck="true"># &#x7EDF;&#x8BA1;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E0B;&#x76EE;&#x5F55;&#x7684;&#x6570;&#x91CF;&#xFF08;&#x4E0D;&#x542B;&#x9690;&#x85CF;&#x76EE;&#x5F55;&#x548C;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x672C;&#x8EAB;&#xFF09;</span>
  <span class="token function">find</span> <span class="token variable">$PWD</span> -maxdepth 1 -type d  <span class="token operator">!</span> \<span class="token punctuation">(</span> -path <span class="token string">&apos;*/\.*&apos;</span> -o -path <span class="token variable">$PWD</span> \<span class="token punctuation">)</span>
</code></pre>
<h3 id="rsync">rsync</h3>
<pre class="language-"><code class="lang-bash"><span class="token comment" spellcheck="true"># copy all files from src to dist</span>
<span class="token function">rsync</span> -avzh /path/to/src/dir /path/to/dist/dir
<span class="token function">rsync</span> -avzh user@host:/path/to/src/dir /path/to/dist/dir
</code></pre>
<h3 id="file-content-search">File Content Search</h3>
<pre class="language-"><code class="lang-bash"><span class="token function">grep</span> -r -n --include <span class="token string">&quot;*.java&quot;</span> systemProperties

THE_CLASSPATH<span class="token operator">=</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token variable"><span class="token variable">`</span><span class="token function">ls</span> ./lib/*.jar<span class="token variable">`</span></span>
<span class="token keyword">do</span>
  THE_CLASSPATH<span class="token operator">=</span><span class="token variable">${THE_CLASSPATH}</span><span class="token keyword">:</span><span class="token variable">${i}</span>
<span class="token keyword">done</span>
</code></pre>
<h1 id="crontab">crontab</h1>
<pre class="language-"><code># &#x9ED8;&#x8BA4;&#x7528;&#x6237;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;
/var/spool/cron/$USER_NAME
/var/spool/cron/crontabs/$USER_NAME
/

# &#x901A;&#x8FC7;&#x547D;&#x4EE4;&#x884C;&#x8FFD;&#x52A0;&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;
line=&quot;* * * * * /path/to/command&quot;
(crontab -u userhere -l; echo &quot;$line&quot; ) | crontab -u userhere -
</code></pre><h1 id="postgresql-backup-cron-job">PostgreSql backup cron job</h1>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span>root@s01 ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># vi /data/srs/util/backDb</span>
<span class="token comment" spellcheck="true">#!/bin/bash</span>

<span class="token comment" spellcheck="true">################################################## config #########</span>
DB_HOST<span class="token operator">=</span>192.168.0.000
DB_NAME<span class="token operator">=</span>website
DB_USER<span class="token operator">=</span>website
<span class="token comment" spellcheck="true"># do not end with &apos;/&apos;</span>
BAK_DIR<span class="token operator">=</span>/data/back/<span class="token variable">${DB_NAME}</span>

<span class="token comment" spellcheck="true">################################################## backup #########</span>

CUR_PATH<span class="token operator">=</span><span class="token variable">${PWD}</span>
<span class="token function">cd</span> <span class="token variable">${BAK_DIR}</span>

<span class="token comment" spellcheck="true"># delete first if exist</span>
bakFile<span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">date</span> +%Y-%m-%d<span class="token variable">`</span></span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -d <span class="token variable">${bakFile}</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token function">rm</span> -fr <span class="token variable">${bakFile}</span>
<span class="token keyword">fi</span>

<span class="token comment" spellcheck="true"># back up today&apos;s db data</span>
pg_dump -h <span class="token variable">${DB_HOST}</span> -U <span class="token variable">${DB_USER}</span> -F d -b -E UTF8 -f <span class="token variable">${bakFile}</span> <span class="token variable">${DB_NAME}</span>
<span class="token comment" spellcheck="true">#mkdir `date +%Y-%m-%d`</span>

<span class="token comment" spellcheck="true">################################################## delete old files #########</span>
fw<span class="token operator">=</span>`date -d <span class="token string">&apos;1 weeks ago&apos;</span> +%Y-%m-%d`
<span class="token keyword">for</span> f <span class="token keyword">in</span> *<span class="token punctuation">;</span> <span class="token keyword">do</span>

   <span class="token comment" spellcheck="true"># delete a week ago backup data file</span>
   <span class="token keyword">if</span> <span class="token punctuation">[</span>  <span class="token string">&quot;<span class="token variable">${f}</span>&quot;</span> \<span class="token operator">&lt;</span> <span class="token string">&quot;<span class="token variable">${fw}</span>&quot;</span>  -o  <span class="token string">&quot;<span class="token variable">${f}</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;<span class="token variable">${fw}</span>&quot;</span>  <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
     <span class="token function">rm</span> -fr <span class="token string">&quot;<span class="token variable">${f}</span>&quot;</span>
   <span class="token keyword">fi</span>

<span class="token keyword">done</span>

<span class="token function">cd</span> <span class="token variable">${CUR_PATH}</span>
</code></pre>
<h2 id="&#x540C;&#x6B65;&#x591A;&#x4E2A;git&#x4ED3;&#x5E93;">&#x540C;&#x6B65;&#x591A;&#x4E2A;git&#x4ED3;&#x5E93;</h2>
<pre class="language-"><code>#!/bin/bash

DIR=/data0/backup/gitlab/jujn-platform
TIME=&quot;date +%Y-%m-%d.%H:%M:%S&quot;


arr=(&quot;repo1&quot; &quot;repo2&quot; &quot;repo3&quot;)

echo ----------------------------------------------------- `$TIME` &#x5F00;&#x59CB;&#x540C;&#x6B65;
for i in ${arr[@]}
do
    cd ${DIR}/${i}
    echo ----------------------------------------------------- `$TIME` ${i}
    git pull --all
done
echo ----------------------------------------------------- `$TIME` &#x540C;&#x6B65;&#x7ED3;&#x675F;
</code></pre><h2 id="&#x5F53;&#x524D;&#x76EE;&#x5F55;">&#x5F53;&#x524D;&#x76EE;&#x5F55;</h2>
<pre class="language-"><code class="lang-bash"><span class="token comment" spellcheck="true"># &#x4EC5;&#x4EC5;&#x9002;&#x7528;&#x4E8E; bash&#xFF0C;&#x5982;&#x679C;&#x53EF;&#x80FD;&#xFF0C;&#x8BF7;&#x5207;&#x6362; sh &#x4E3A; bash</span>
DIR<span class="token operator">=</span><span class="token string">&quot;$( cd &quot;</span><span class="token punctuation">$(</span> <span class="token function">dirname</span> <span class="token string">&quot;<span class="token variable">${BASH_SOURCE[0]}</span>&quot;</span> <span class="token punctuation">)</span><span class="token string">&quot; &amp;&amp; pwd )&quot;</span>
<span class="token keyword">echo</span> <span class="token variable">$DIR</span>

<span class="token comment" spellcheck="true"># &#x56E0;&#x4E3A; docker &#x73AF;&#x5883;&#x4E2D;&#xFF0C;&#x66F4;&#x591A;&#x7684;&#x662F;&#x4F7F;&#x7528; sh&#xFF0C;&#x800C;&#x975E; bash&#xFF0C;&#x6240;&#x4EE5;&#x53C2;&#x8003;&#x4EE5;&#x4E0B;</span>
<span class="token comment" spellcheck="true"># &#x53C2;&#x8003; &#xFF1A; https://stackoverflow.com/a/1638397/533317</span>
<span class="token comment" spellcheck="true"># bash, sh, ksh:</span>
<span class="token comment" spellcheck="true">#!/bin/bash </span>
<span class="token comment" spellcheck="true"># Absolute path to this script, e.g. /home/user/bin/foo.sh</span>
SCRIPT<span class="token operator">=</span><span class="token punctuation">$(</span>readlink -f <span class="token string">&quot;<span class="token variable">$0</span>&quot;</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># Absolute path this script is in, thus /home/user/bin</span>
SCRIPTPATH<span class="token operator">=</span><span class="token punctuation">$(</span>dirname <span class="token string">&quot;<span class="token variable">$SCRIPT</span>&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">echo</span> <span class="token variable">$SCRIPTPATH</span>

<span class="token comment" spellcheck="true"># tcsh, csh:</span>
<span class="token comment" spellcheck="true">#!/bin/tcsh</span>
<span class="token comment" spellcheck="true"># Absolute path to this script, e.g. /home/user/bin/foo.csh</span>
<span class="token keyword">set</span> SCRIPT<span class="token operator">=</span>`readlink -f <span class="token string">&quot;<span class="token variable">$0</span>&quot;</span>`
<span class="token comment" spellcheck="true"># Absolute path this script is in, thus /home/user/bin</span>
<span class="token keyword">set</span> SCRIPTPATH<span class="token operator">=</span>`dirname <span class="token string">&quot;<span class="token variable">$SCRIPT</span>&quot;</span>`
<span class="token keyword">echo</span> <span class="token variable">$SCRIPTPATH</span>
</code></pre>
<h2 id="awk">awk</h2>
<pre class="language-"><code class="lang-bash"><span class="token comment" spellcheck="true"># &lt;td&gt;&lt;a href=&quot;AAA.tar.bz2&quot;&gt;AAA.tar.bz2&lt;/a&gt;&lt;/td&gt;</span>
curl -s http://xxx/ <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&apos;match(<span class="token variable">$0</span>, /&lt;td&gt;&lt;a.*&gt;(.*)&lt;\/a&gt;.*&lt;\/td&gt;/,arr) {print arr[1]}&apos;</span>
<span class="token comment" spellcheck="true"># output : AAA.tar.bz2</span>

zll@mac-pro 333$ ll
total 24
drwxr-xr-x  2 zll  wheel  68 Sep 26 10:21 a
-rw-r--r--  1 zll  wheel   4 Sep 26 10:21 a.txt
-rw-r--r--  1 zll  wheel   8 Sep 26 10:21 b.txt
-rw-r--r--  1 zll  wheel   2 Sep 26 10:21 c.txt
drwxr-xr-x  2 zll  wheel  68 Sep 26 10:22 x

<span class="token comment" spellcheck="true"># &#x6309;&#x7167;&#x7279;&#x5B9A;&#x5B57;&#x6BB5;&#x6392;&#x5E8F;</span>
zll@mac-pro 333$ ll <span class="token operator">|</span> <span class="token function">sort</span> -n -r -k 5
drwxr-xr-x  2 zll  wheel  68 Sep 26 10:22 x
drwxr-xr-x  2 zll  wheel  68 Sep 26 10:21 a
-rw-r--r--  1 zll  wheel   8 Sep 26 10:21 b.txt
-rw-r--r--  1 zll  wheel   4 Sep 26 10:21 a.txt
-rw-r--r--  1 zll  wheel   2 Sep 26 10:21 c.txt

<span class="token comment" spellcheck="true"># &#x63D0;&#x53D6;&#x7279;&#x5B9A;&#x5B57;&#x6BB5;&#x3002;&#x6CE8;&#x610F;&#x4E0D;&#x53EF;&#x4F7F;&#x7528;cut&#x547D;&#x4EE4;&#x2014;&#x2014;&#x4E0D;&#x652F;&#x6301;&#x591A;&#x4E2A;&#x7A7A;&#x683C;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x5206;&#x9694;&#x7B26;&#x3002;</span>
zll@mac-pro 333$ ll <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&apos;{print <span class="token variable">$5</span>}&apos;</span>

68
4
8
2
68
</code></pre>
<h2 id="&#x514D;&#x5BC6;&#x7801;&#x4EE5;root&#x6743;&#x9650;&#x6267;&#x884C;&#x811A;&#x672C;">&#x514D;&#x5BC6;&#x7801;&#x4EE5;root&#x6743;&#x9650;&#x6267;&#x884C;&#x811A;&#x672C;</h2>
<h3 id="&#x4F7F;&#x7528;setuid&#x7279;&#x6027;">&#x4F7F;&#x7528;SetUID&#x7279;&#x6027;</h3>
<pre class="language-"><code class="lang-bash"><span class="token function">vi</span> xxx.sh
<span class="token function">sudo</span> <span class="token function">chown</span> root.root xxx.sh
<span class="token function">sudo</span> <span class="token function">chmod</span> 4755 xxx.sh
<span class="token comment" spellcheck="true"># &#x8FD9;&#x6837;&#x4E00;&#x6765;&#xFF0C;&#x53EA;&#x6709;root&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x8BE5;&#x811A;&#x672C;&#xFF0C;&#x4F46;&#x4EFB;&#x4F55;&#x4EBA;&#x90FD;&#x53EF;&#x4EE5;&#x4EE5;&#x811A;&#x672C;&#x6240;&#x6709;&#x8005;&#x2014;&#x2014;root&#x7684;&#x8EAB;&#x4EFD;&#x6267;&#x884C;&#x3002;</span>

visudo

Cmnd_Alias        CMDS <span class="token operator">=</span> /path/to/your/script
<span class="token operator">&lt;</span>username<span class="token operator">&gt;</span>  ALL<span class="token operator">=</span>NOPASSWD: CMDS
</code></pre>
<h1 id="backup">backup</h1>
<pre class="language-"><code class="lang-bash"><span class="token shebang important">#!/bin/bash</span>

TIME<span class="token operator">=</span><span class="token string">&quot;date +%Y-%m-%d.%H:%M:%S&quot;</span>

BAK_DIR<span class="token operator">=</span><span class="token variable">$1</span>
FILE<span class="token operator">=</span><span class="token variable">$2</span>
BACKUP_COUNT<span class="token operator">=</span><span class="token variable">$3</span>

CUR_BAK<span class="token operator">=</span><span class="token variable">$BAK_DIR</span>/<span class="token variable"><span class="token variable">`</span>$TIME<span class="token variable">`</span></span>

<span class="token comment" spellcheck="true"># get existed backups (as Array)</span>
dirList<span class="token operator">=</span><span class="token punctuation">(</span>`find <span class="token variable">$BAK_DIR</span> -maxdepth 1 -type d  <span class="token operator">!</span> \<span class="token punctuation">(</span> -path <span class="token string">&apos;*/\.*&apos;</span> -o -path <span class="token variable">$BAK_DIR</span> \<span class="token punctuation">)</span> <span class="token operator">|</span> sort`<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># delete old backups, only keep the last one</span>
<span class="token keyword">let</span> loopEnd<span class="token operator">=</span><span class="token variable">${#dirList[@]}</span>-<span class="token variable">$BACKUP_COUNT</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token variable"><span class="token variable">`</span><span class="token function">seq</span> 0 $loopEnd<span class="token variable">`</span></span>
<span class="token keyword">do</span>
  <span class="token keyword">echo</span> <span class="token variable"><span class="token variable">`</span>$TIME<span class="token variable">`</span></span> deleteing <span class="token variable">${dirList[i]}</span>
  <span class="token function">rm</span> -fr <span class="token variable">${dirList[i]}</span> 2<span class="token operator">&gt;</span><span class="token operator">&amp;</span>1  <span class="token operator">||</span> <span class="token punctuation">{</span>
    <span class="token keyword">exit</span> <span class="token variable">$?</span>
  <span class="token punctuation">}</span>
<span class="token keyword">done</span>

<span class="token comment" spellcheck="true"># bakup a new one</span>
<span class="token keyword">echo</span> <span class="token variable"><span class="token variable">`</span>$TIME<span class="token variable">`</span></span> creating new backup <span class="token function">dir</span>
<span class="token function">mkdir</span> <span class="token variable">$CUR_BAK</span> 2<span class="token operator">&gt;</span><span class="token operator">&amp;</span>1 <span class="token operator">||</span> <span class="token punctuation">{</span>
    rc<span class="token operator">=</span><span class="token variable">$?</span>
    <span class="token function">rm</span> -fr <span class="token variable">${CUR_BAK}</span> 2<span class="token operator">&gt;</span><span class="token operator">&amp;</span>1
    <span class="token keyword">exit</span> <span class="token variable">$rc</span>
<span class="token punctuation">}</span>

<span class="token keyword">echo</span> <span class="token variable"><span class="token variable">`</span>$TIME<span class="token variable">`</span></span> backing up <span class="token variable">$DB_NAME</span><span class="token keyword">.</span><span class="token variable">$T</span>
<span class="token function">mv</span> <span class="token variable">$FILE</span> <span class="token variable">$CUR_BAK</span> <span class="token operator">||</span> <span class="token punctuation">{</span>
    rc<span class="token operator">=</span><span class="token variable">$?</span>
    <span class="token function">rm</span> -fr <span class="token variable">${CUR_BAK}</span> 2<span class="token operator">&gt;</span><span class="token operator">&amp;</span>1
    <span class="token keyword">exit</span> <span class="token variable">$rc</span>
<span class="token punctuation">}</span>

<span class="token keyword">echo</span> <span class="token variable"><span class="token variable">`</span>$TIME<span class="token variable">`</span></span> success.
</code></pre>
<h1 id="&#x591A;&#x884C;&#x5230;&#x6587;&#x672C;">&#x591A;&#x884C;&#x5230;&#x6587;&#x672C;</h1>
<pre class="language-"><code>cat &gt; aaa.txt &lt;&lt;EOF
111
222
333
EOF
</code></pre><h1 id="echo-server">echo server</h1>
<pre class="language-"><code class="lang-bash">ncat -l 2000 -k -c <span class="token string">&apos;xargs -n1 echo&apos;</span>
</code></pre>
<h1 id="sed">sed</h1>
<h2 id="&#x5927;&#x6587;&#x4EF6;&#x4E2D;&#x67E5;&#x627E;&#x5E76;&#x622A;&#x53D6;&#x4E0A;&#x4E0B;&#x6587;">&#x5927;&#x6587;&#x4EF6;&#x4E2D;&#x67E5;&#x627E;&#x5E76;&#x622A;&#x53D6;&#x4E0A;&#x4E0B;&#x6587;</h2>
<pre class="language-"><code># &#x67E5;&#x627E;&#xFF0C;&#x663E;&#x793A;&#x884C;&#x53F7;&#xFF0C;&#x9650;&#x5B9A;&#x6700;&#x591A;&#x663E;&#x793A;&#x51E0;&#x6761;
grep -n -m 10 xxx /path/to/largeFile

# &#x63D0;&#x53D6;&#x7279;&#x5B9A;&#x884C;&#x4E4B;&#x95F4;&#x7684;&#x5185;&#x5BB9;
sed -n -e &apos;80000,10000p&apos; ~/qh/qh-wap/logs/default.log &gt; stackoverflow.log

# &#x66FF;&#x6362;&#x7A7A;&#x683C;
echo &apos;a b  c&apos; |sed -r &apos;s/ +/_/g&apos; -
</code></pre><h2 id="&#x67E5;&#x627E;&#x5E76;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;">&#x67E5;&#x627E;&#x5E76;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</h2>
<pre class="language-"><code class="lang-bash"><span class="token comment" spellcheck="true"># man sshd_config</span>
enableSshdGatewayPorts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    file<span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$1</span>&quot;</span>

    <span class="token comment" spellcheck="true"># append if not configured</span>
    EXISTED<span class="token operator">=</span>`grep -E <span class="token string">&apos;^[[:space:]]*GatewayPorts[[:space:]]*(yes|no|clientspecified)[[:space:]]*#*.*$&apos;</span> /tmp/a <span class="token operator">|</span> <span class="token function">wc</span> -l`
    <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$EXISTED</span> -eq 0 <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span>  <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> GatewayPorts <span class="token function">yes</span> <span class="token operator">&gt;&gt;</span> <span class="token variable">$file</span>
        <span class="token keyword">return</span> 0
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true"># update if configured</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$C</span> -ge 1 <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">{</span>
        <span class="token function">sed</span> -i -r <span class="token string">&quot;s/^[[:space:]]*GatewayPorts[[:space:]]*(no|clientspecified)[[:space:]]*#*.*$/GatewayPorts yes/g&quot;</span> <span class="token variable">$file</span>
        <span class="token keyword">return</span> 0
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">cat</span> <span class="token operator">&gt;</span> /tmp/a <span class="token operator">&lt;&lt;</span><span class="token string">EOF
xxx
#GatewayPorts no
        GatewayPorts   clientspecified   #xxx
yyy
EOF</span>
enableSshdGatewayPorts /tmp/a <span class="token comment" spellcheck="true"># /etc/ssh/sshd_config</span>
<span class="token function">cat</span> /tmp/a

<span class="token function">cat</span> <span class="token operator">&gt;</span> /tmp/a <span class="token operator">&lt;&lt;</span><span class="token string">EOF
xxx
#GatewayPorts no
yyy
EOF</span>

enableSshdGatewayPorts /tmp/a <span class="token comment" spellcheck="true"># /etc/ssh/sshd_config</span>
<span class="token function">cat</span> /tmp/a
</code></pre>

                                
                                </section>
                            
                        </div>
                    </div>
                
            </div>

            
                
                <a href="ubuntu.html" class="navigation navigation-prev " aria-label="Previous page: Ubuntu">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="vim.html" class="navigation navigation-next " aria-label="Next page: Vim">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Bash","level":"1.12.3","depth":2,"next":{"title":"Vim","level":"1.12.4","depth":2,"path":"os/linux/vim.md","ref":"os/linux/vim.md","articles":[]},"previous":{"title":"Ubuntu","level":"1.12.2","depth":2,"path":"os/linux/ubuntu.md","ref":"os/linux/ubuntu.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","-search","-highlight","prism","prism-themes","mathjax-full","splitter"],"root":"./","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prism-themes/themes/prism-vs.css"]},"fontsettings":{"theme":"white","family":"sans","size":1},"prism-themes":{},"mathjax-full":{},"splitter":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"btpka3@163.com","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"zh","gitbook":">=3.0.0"},"file":{"path":"os/linux/bash.md","mtime":"2017-12-28T10:03:05.175Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2017-12-28T10:05:02.333Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-mathjax-full/config.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-mathjax-full/mathjax.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

